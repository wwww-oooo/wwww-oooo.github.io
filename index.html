<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/04/Redis/1%20Redis%20%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/08/04/Redis/1%20Redis%20%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">1 Redis 基础</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-08-04 00:00:00 / 修改时间：13:24:40" itemprop="dateCreated datePublished" datetime="2023-08-04T00:00:00+08:00">2023-08-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/04/Redis/2%20Redis%20%E5%AE%9E%E6%88%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/08/04/Redis/2%20Redis%20%E5%AE%9E%E6%88%98/" class="post-title-link" itemprop="url">2 Redis 实战</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-08-04 00:00:00 / 修改时间：14:27:28" itemprop="dateCreated datePublished" datetime="2023-08-04T00:00:00+08:00">2023-08-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-Session-登录"><a href="#1-Session-登录" class="headerlink" title="1 Session 登录"></a>1 Session 登录</h1><h2 id="基于-Session-实现登录功能"><a href="#基于-Session-实现登录功能" class="headerlink" title="基于 Session 实现登录功能"></a>基于 Session 实现登录功能</h2><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul>
<li><strong>验证码发送</strong>：接收到用户手机号，生成验证码，将用户和对应的验证码保存到 session<ul>
<li><code>session.setAttribute(&quot;code&quot;, code);</code></li>
</ul>
</li>
<li><strong>验证码登录、注册</strong>：<ul>
<li>校验手机号和验证码是否与 session 中保存的一致</li>
<li>判断用户是否已经注册<ul>
<li>未注册，将用户注册到数据库</li>
</ul>
</li>
<li>将用户保存到 session <code>session.setAttribute(&quot;user&quot;, user);</code></li>
</ul>
</li>
<li><strong>校验登录状态</strong>：有一些功能要求用户已经登录才能使用，因此需要校验用户是否登录<ul>
<li>使用<strong>拦截器</strong>对用户登录状态进行校验，可以用 <strong><code>ThreadLocal</code></strong> 将用户的信息保存起来<ul>
<li><code>ThreadLocal</code> 为每个线程提供独立的变量副本，在多线程时，每个线程会获取自己的信息</li>
</ul>
</li>
<li><strong>注册拦截器</strong><ul>
<li>写 <code>MvcConfig</code> 类，实现 <code>WebMvcConfigurer</code> 接口，标记为 <code>@Configuration</code></li>
<li>实现 <code>addInterceptors</code> 方法，注册拦截器  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">registry.addInterceptor(<span class="keyword">new</span> <span class="title class_">RefreshTokenInterceptor</span>())  </span><br><span class="line">		.addPathPatterns(<span class="string">&quot;/**&quot;</span>)  <span class="comment">// 拦截路径</span></span><br><span class="line">		.order(<span class="number">0</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>确认用户登录后，<strong>获取用户并返回到前端</strong><ul>
<li>写一个类 <code>UserHolder</code>，持有一个 <code>ThreadLocal</code>，其中存放当前登录的用户</li>
<li>从 <code>UserHolder</code> 中获取用户并返回 <code>UserHolder.getUser();</code></li>
<li>返回用户完整信息到前端不可取（会导致敏感数据泄露），解决方法：创建 <code>UserDTO</code> 类，存放用户脱敏后的信息（Data Transfer Object）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="session-登录存在的问题"><a href="#session-登录存在的问题" class="headerlink" title="session 登录存在的问题"></a>session 登录存在的问题</h3><ul>
<li>多台 Tomcat 并不共享 session 存储空间，请求切换到不同 tomcat 服务时会导致用户登录状态不统一</li>
<li>session 替代方案的要求<ul>
<li>数据<strong>共享</strong>（多个 tomcat 都能看到相同数据）</li>
<li><strong>内存</strong>存储（session 是基于内存的，替代方案也要求高性能）</li>
<li><strong>key-value 结构</strong>（结构简单）</li>
</ul>
</li>
<li>![[集群的 session 共享问题.png]]</li>
</ul>
<h2 id="基于-Redis-实现共享-Session-登录功能"><a href="#基于-Redis-实现共享-Session-登录功能" class="headerlink" title="基于 Redis 实现共享 Session 登录功能"></a>基于 Redis 实现共享 Session 登录功能</h2><ul>
<li>思路<ul>
<li>验证码和用户不再保存在 session 中，而是存在 Redis 中</li>
<li>后端：给用户&#x3D;&#x3D;生成随机 token，返回到前端&#x3D;&#x3D;<ul>
<li>用户下次会携带 token 再次向服务器发起请求，服务器可以凭借 token 识别用户</li>
</ul>
</li>
<li>前端：&#x3D;&#x3D;设置全局拦截器，发送请求时携带 <code>authorization: token 值</code>&#x3D;&#x3D;</li>
</ul>
</li>
</ul>
<h3 id="如何设计-key？"><a href="#如何设计-key？" class="headerlink" title="如何设计 key？"></a>如何设计 key？</h3><ul>
<li>验证码：<code>phone:138...</code>，加上统一前缀可以方便管理</li>
<li>用户<ul>
<li>为了安全性，随机生成 token，而不是直接拼接用户信息，防止恶意攻击</li>
</ul>
</li>
</ul>
<h3 id="使用什么数据结构存放用户信息？"><a href="#使用什么数据结构存放用户信息？" class="headerlink" title="使用什么数据结构存放用户信息？"></a>使用什么数据结构存放用户信息？</h3><ul>
<li>String（先将用户序列化为 JSON，再将 JSON 作为字符串写进 Redis）</li>
<li>Hash（直接写入）✔<ul>
<li>Hash <strong>占用内存更少</strong></li>
<li>支持<strong>单个字段</strong>的增删改查</li>
</ul>
</li>
</ul>
<h3 id="Redis-代替-session-需要考虑的问题"><a href="#Redis-代替-session-需要考虑的问题" class="headerlink" title="Redis 代替 session 需要考虑的问题"></a>Redis 代替 session 需要考虑的问题</h3><ul>
<li>合适的<strong>数据结构</strong><ul>
<li>简单数据：String</li>
<li>结构数据：Hash</li>
</ul>
</li>
<li>合适的<strong>key</strong>：唯一性、方便找到</li>
<li>合适的<strong>存储粒度</strong>：存储用户的哪部分信息，节省空间、保证安全性</li>
<li>合适的<strong>过期时间</strong>：存入 Redis 的数据要设置过期时间，避免不必要的内存占用</li>
</ul>
<h3 id="token-有效期的刷新"><a href="#token-有效期的刷新" class="headerlink" title="token 有效期的刷新"></a>token 有效期的刷新</h3><ul>
<li>用户每做一次操作，就刷新一次 token 有效期（<strong>对一切路径都进行拦截</strong>）</li>
<li>实现：新增一层独立的拦截器并注册<ul>
<li>![[token 有效期刷新.png]]</li>
</ul>
</li>
</ul>
<h1 id="2-缓存"><a href="#2-缓存" class="headerlink" title="2 缓存"></a>2 缓存</h1><h2 id="为什么需要缓存？"><a href="#为什么需要缓存？" class="headerlink" title="为什么需要缓存？"></a>为什么需要缓存？</h2><ul>
<li><strong>缓存</strong>：临时存放数据的缓冲区，一般读写性能较高</li>
<li><strong>作用</strong><ul>
<li>降低后端负载</li>
<li>提高读写效率，降低响应时间</li>
</ul>
</li>
<li><strong>成本</strong><ul>
<li>额外引入中间件，增大运维成本</li>
<li>额外开发和解决缓存带来的问题，增大开发成本</li>
<li>需要<strong>保证数据一致性</strong></li>
</ul>
</li>
</ul>
<h2 id="实现缓存"><a href="#实现缓存" class="headerlink" title="实现缓存"></a>实现缓存</h2><p>![[缓存的作用流程.png]]</p>
<ul>
<li>提交查询请求，Redis 中是否已经有缓存？<ul>
<li>已有缓存，直接返回结果（省去与数据库的交互）</li>
<li>没有缓存，从数据库中读取，并将数据写入 Redis，返回结果</li>
</ul>
</li>
</ul>
<h2 id="缓存更新-——-缓存的一致性问题"><a href="#缓存更新-——-缓存的一致性问题" class="headerlink" title="缓存更新 —— 缓存的一致性问题"></a>缓存更新 —— 缓存的一致性问题</h2><ul>
<li>如果缓存没有更新，用户就可能读取到已经过时的<strong>旧数据</strong></li>
<li>常见的缓存更新策略<ul>
<li>![[缓存更新策略.png]]</li>
</ul>
</li>
</ul>
<h3 id="主动更新策略"><a href="#主动更新策略" class="headerlink" title="主动更新策略"></a>主动更新策略</h3><h4 id="不同的主动更新策略"><a href="#不同的主动更新策略" class="headerlink" title="不同的主动更新策略"></a>不同的主动更新策略</h4><ul>
<li>Cache Aside</li>
<li>Read&#x2F;Write Through</li>
<li>Write Behind Caching</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/03/%E7%89%9B%E5%AE%A2%E9%94%99%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/08/03/%E7%89%9B%E5%AE%A2%E9%94%99%E9%A2%98/" class="post-title-link" itemprop="url">牛客错题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-08-03 18:40:03" itemprop="dateCreated datePublished" datetime="2023-08-03T18:40:03+08:00">2023-08-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-04 13:21:06" itemprop="dateModified" datetime="2023-08-04T13:21:06+08:00">2023-08-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="violatile-和-synchronized"><a href="#violatile-和-synchronized" class="headerlink" title="violatile 和 synchronized"></a>violatile 和 synchronized</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/a347911/article/details/88379625">java面试题之volatile和synchronized的使用方法和区别_我还是个少年的博客-CSDN博客</a></p>
<ul>
<li>当多个线程同时访问共享数据时，会出现并发访问的问题。为了解决并发访问带来的数据不一致性和线程安全问题，Java 提供了 <code>volatile</code> 和 <code>synchronized</code> 关键字。</li>
</ul>
<ol>
<li><p><code>volatile</code> 关键字：</p>
<ul>
<li><code>volatile</code> 关键字用于修饰变量，保证其在多线程环境下的可见性。</li>
<li>当一个变量被声明为 <code>volatile</code> 后，多个线程可以在没有互斥锁的情况下并发地访问该变量。</li>
<li>每次读取 <code>volatile</code> 变量时，都会从主内存中获取最新的值；每次修改 <code>volatile</code> 变量时，会立即将新值刷新到主内存中。</li>
<li><code>volatile</code> 关键字适用于简单的标识位的状态切换、双重检查锁定（Double-Checked Locking）、读写锁等场景。</li>
<li>注意，<code>volatile</code> 无法保证原子性，也不能替代互斥锁，不能解决复合操作的原子性问题。</li>
</ul>
</li>
<li><p><code>synchronized</code> 关键字：</p>
<ul>
<li><code>synchronized</code> 关键字用于修饰方法或代码块，保证在多线程环境下的原子性和可见性。</li>
<li>当一个方法或代码块被 <code>synchronized</code> 修饰后，同一时间只能有一个线程执行该方法或代码块，其他线程需要等待。</li>
<li>进入 <code>synchronized</code> 代码块会自动获取对象的锁，执行完后会释放锁。</li>
<li><code>synchronized</code> 关键字保证了原子操作的完整性，也解决了多个线程之间的竞争问题。</li>
<li>注意，使用 <code>synchronized</code> 关键字会引入一定的性能开销，并且过多地使用 <code>synchronized</code> 可能导致死锁问题。</li>
</ul>
</li>
</ol>
<p>总结：</p>
<ul>
<li><code>volatile</code> 关键字保证了变量在多线程环境下的可见性，但不保证原子性，适合简单的状态切换操作；</li>
<li><code>synchronized</code> 关键字保证了代码块的原子性和可见性，但可能引入性能开销，并且需要谨慎使用避免死锁问题。</li>
</ul>
<h1 id="Spring-事务传播特性"><a href="#Spring-事务传播特性" class="headerlink" title="Spring 事务传播特性"></a>Spring 事务传播特性</h1><ul>
<li><strong>PROPAGATION_REQUIRED</strong> <strong>如果当前没有事务，就新建一个事务</strong>，如果已经存在一个事务中，加入到这个事务中。这是最常见的选择。</li>
<li>PROPAGATION_SUPPORTS 支持当前事务，如果当前没有事务，就以非事务方式执行。</li>
<li>PROPAGATION_MANDATORY 使用当前的事务，如果当前没有事务，就抛出异常。 </li>
<li>PROPAGATION_REQUIRES_NEW 新建事务，如果当前存在事务，把当前事务挂起。 </li>
<li>PROPAGATION_NOT_SUPPORTED 以非事务方式执行操作，如果当前存在事务，就把当前事务挂起。 </li>
<li>PROPAGATION_NEVER 以非事务方式执行，如果当前存在事务，则抛出异常。 </li>
<li>PROPAGATION_NESTED 如果当前存在事务，则在嵌套事务内执行。如果当前没有事务，则执行与 PROPAGATION_REQUIRED 类似的操作。</li>
</ul>
<h1 id="String-字符串"><a href="#String-字符串" class="headerlink" title="String 字符串"></a>String 字符串</h1><h2 id="replaceAll"><a href="#replaceAll" class="headerlink" title="replaceAll()"></a><code>replaceAll()</code></h2><p>replaceAll()函数的第一个参数是一个正则表达式，而”.”在正则表达式中代表了全部的字符</p>
<h2 id="编码转换"><a href="#编码转换" class="headerlink" title="编码转换"></a>编码转换</h2><ul>
<li><code>new String(&quot;要转换的字符串&quot;.getBytes(&quot;原编码&quot;), &quot;目标编码&quot;)</code></li>
</ul>
<h2 id="字符串运算"><a href="#字符串运算" class="headerlink" title="字符串运算"></a>字符串运算</h2><ul>
<li>编译器的优化，hotspot中 编译时”tao”+”bao”将直接变成”taobao”，b+c则不会优化，因为不知道在之前的步骤中bc会不会发生改变，而针对b+c则是用语法糖，新建一个StringBuilder来处理</li>
</ul>
<h1 id="switch-可以接收的数据类型"><a href="#switch-可以接收的数据类型" class="headerlink" title="switch 可以接收的数据类型"></a>switch 可以接收的数据类型</h1><p>switch可以支持<strong>byte、short、char、int、Byte、Short、Character、Integer、String和枚举</strong>类型的数据</p>
<p>byte、short、char自动转变为int类型，</p>
<p>Byte、Short、Character、Integer–JDK1.5自动拆箱，转变为int类型进行匹配</p>
<p>同时随着jdk1.5中新增了枚举类型，枚举类型底层是使用了枚举类的ordinal方法，返回的是枚举常量的序号，其序号是int类型，所以可以作为switch的参数。</p>
<p>在jdk1.7中string类型底层使用了hashCode方法，返回的数据类型为哈希码，也是int类型。</p>
<h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/striveb/article/details/82780319">浅谈servlet源码_striveb的博客-CSDN博客</a></p>
</blockquote>
<ul>
<li>servlet在多线程下其本身并不是线程安全的</li>
</ul>
<h1 id="RMI"><a href="#RMI" class="headerlink" title="RMI"></a>RMI</h1><p>RMI(Remote Method Invocation)远程方法调用是一种计算机之间利用远程对象互相调用实现双方通讯的一种通讯机制</p>
<p><strong>RMI采用的是TCP&#x2F;IP协议</strong></p>
<h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><h2 id="线程安全的集合类"><a href="#线程安全的集合类" class="headerlink" title="线程安全的集合类"></a>线程安全的集合类</h2><ul>
<li>Vector</li>
<li>Stack</li>
<li>Hashtable</li>
<li>Enumeration</li>
</ul>
<h2 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h2><ul>
<li>TreeSet 默认是自然排序的</li>
<li><code>subSet()</code> 方法：通过 <code>subSet()</code> 方法得到的子集合与原集合指向<strong>同一组数据</strong>，不论谁对数据进行操作，最后获取的都是修改后的数据</li>
</ul>
<h1 id="重载"><a href="#重载" class="headerlink" title="重载"></a>重载</h1><ul>
<li>重载函数名称相同，参数列表不同</li>
</ul>
<h1 id="线程共享-线程私有"><a href="#线程共享-线程私有" class="headerlink" title="线程共享 &#x2F; 线程私有"></a>线程共享 &#x2F; 线程私有</h1><ul>
<li>私有:java虚拟机栈，程序计数器，本地方法栈</li>
<li>共享:java堆，方法区</li>
</ul>
<h1 id="JDK提供的用于并发编程的同步器"><a href="#JDK提供的用于并发编程的同步器" class="headerlink" title="JDK提供的用于并发编程的同步器"></a>JDK提供的用于并发编程的同步器</h1><p>JDK提供了多个用于并发编程的同步器，其中一些常用的包括：</p>
<ol>
<li><p>Lock：Lock是一个显式的锁机制，通过调用lock()和unlock()方法来获取和释放锁。Lock接口的实现类有ReentrantLock和ReentrantReadWriteLock.ReadLock&#x2F;WriteLock等。</p>
</li>
<li><p>Semaphore：Semaphore是一个计数信号量，用于控制同时访问某个资源的线程数。可以通过acquire()方法获取许可，通过release()方法释放许可。Semaphore可以用来实现资源的有限访问和流量控制。</p>
</li>
<li><p>CountDownLatch：CountDownLatch可以用来等待一组线程完成某个任务。它通过一个计数器来控制等待的线程数量，线程完成一个任务时计数器减一，直到计数器为零时，等待的线程才能继续执行。</p>
</li>
<li><p>CyclicBarrier：CyclicBarrier用于等待一组线程达到某个共同点，然后再继续执行。与CountDownLatch不同，CyclicBarrier可以被重置并重新使用。</p>
</li>
<li><p>Phaser：Phaser是一个先进先出的栅栏同步器，用于管理多个线程的阶段同步。Phaser的主要作用是协调多个线程的执行，使它们能够在某个特定的时间点进行同步。</p>
</li>
<li><p>Exchanger：Exchanger提供了两个线程之间的数据交换点，线程在交换点上可以交换对象。使用Exchanger可以方便地实现线程之间的数据交换和同步。</p>
</li>
</ol>
<p>除了上述同步器，JDK还提供了其他一些用于并发编程的工具类，如BlockingQueue、CountDownLatch、ThreadPoolExecutor等。这些同步器和工具类提供了不同层次和粒度的线程同步和协调功能，可以根据具体的应用场景选择合适的同步器使用。</p>
<h1 id="offHeap"><a href="#offHeap" class="headerlink" title="offHeap"></a>offHeap</h1><p><strong>堆外内存意味着把内存对象分配在Java虚拟机的堆以外的内存，这些内存直接受操作系统管理（而不是虚拟机）</strong>。<strong>不属于老年代和新生代。</strong></p>
<p><strong>JVM GC回收堆和方法区，排除法选择 B</strong></p>
<p>这样做的结果就是能保持一个较小的堆，以减少垃圾收集对应用的影响。使用堆外内存能够降低GC导致的暂停。</p>
<p>堆外内存，它和内存池一样，也能缩短垃圾回收时间，但是它适用的对象和内存池完全相反。内存池往往适用于生命期较短的可变对象，而生命期中等或较长的对象，正是堆外内存要解决的。堆外内存有以下特点： 对于大内存有良好的伸缩性 对垃圾回收停顿的改善可以明显感觉到 在进程间可以共享，减少虚拟机间的复制 当然堆外内存也有它自己的问题，最大的问题就是你的数据结构变得不那么直观，如果数据结构比较复杂，就要对它进行串行化（serialization），而串行化本身也会影响性能。另一个问题是由于你可以使用更大的内存，你可能开始担心虚拟内存（即硬盘）的速度对你的影响了。  </p>
<h1 id="n-n-1"><a href="#n-n-1" class="headerlink" title="-n&#x3D;~n+1"></a>-n&#x3D;~n+1</h1><h1 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h1><p>三元运算符如果遇到可以转换为数字的类型，会做自动类型提升</p>
<h1 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h1><ul>
<li>反射可以绕过访问权限，访问类的私有属性和，破坏了类的<strong>封装性</strong></li>
</ul>
<h1 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h1><ul>
<li>在接口中，属性都是默认 <code>public static final</code>，实现类可以访问接口中的变量</li>
</ul>
<h1 id="Iterator"><a href="#Iterator" class="headerlink" title="Iterator"></a>Iterator</h1><ul>
<li>Iterator 支持从原集合中<strong>安全删除</strong>对象，只需要 <code>it.remove()</code></li>
</ul>
<h1 id="线程生命周期"><a href="#线程生命周期" class="headerlink" title="线程生命周期"></a>线程生命周期</h1><p>![[线程生命周期.png]]</p>
<h1 id="线程释放锁资源"><a href="#线程释放锁资源" class="headerlink" title="线程释放锁资源"></a>线程释放锁资源</h1><ul>
<li><code>wait()</code></li>
<li><code>join()</code></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/03/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/08/03/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/" class="post-title-link" itemprop="url">滑动窗口</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-08-03 10:29:18 / 修改时间：10:48:58" itemprop="dateCreated datePublished" datetime="2023-08-03T10:29:18+08:00">2023-08-03</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="核心思想"><a href="#核心思想" class="headerlink" title="核心思想"></a>核心思想</h1><ul>
<li>通过定义窗口的条件，遍历数组&#x2F;字符串，最终找到结果</li>
</ul>
<ol>
<li>定义窗口</li>
<li>双指针遍历，并维护对窗口的定义</li>
</ol>
<h2 id="固定大小的滑动窗口"><a href="#固定大小的滑动窗口" class="headerlink" title="固定大小的滑动窗口"></a>固定大小的滑动窗口</h2><ul>
<li><strong>维持窗口大小进行窗口滑动</strong></li>
</ul>
<ol>
<li>形成窗口：让窗口达到要求的长度</li>
<li>窗口滑动：左右边界一起移动，维持窗口长度不变</li>
</ol>
<h2 id="可变大小的滑动窗口"><a href="#可变大小的滑动窗口" class="headerlink" title="可变大小的滑动窗口"></a>可变大小的滑动窗口</h2><ul>
<li><strong>通过条件判断控制窗口滑动</strong></li>
</ul>
<ol>
<li>右指针向右，找到一个最值，超出后不动</li>
<li>左指针向右，直到窗口满足定义，右指针继续移动</li>
</ol>
<h3 id="最长子串"><a href="#最长子串" class="headerlink" title="最长子串"></a>最长子串</h3><ul>
<li>右指针一直向右寻找<strong>最优解</strong>，直到破坏了定义</li>
<li>左指针开始向右，直到满足条件，寻找<strong>可行解</strong></li>
<li>循环上面两步，在过程中记录可行解</li>
</ul>
<h3 id="最短子串"><a href="#最短子串" class="headerlink" title="最短子串"></a>最短子串</h3><ul>
<li>右指针一直向右寻找<strong>可行解</strong>，直到满足条件</li>
<li>左指针开始向右，寻找<strong>最优解</strong>，直到破坏了条件</li>
<li>右指针重新移动使得条件再次被满足</li>
</ul>
<h1 id="执行过程"><a href="#执行过程" class="headerlink" title="执行过程"></a>执行过程</h1><ol>
<li>整理出条件：子序列和大于某个值&#x2F;子串中包含某个值&#x2F;子串中出现重复值</li>
<li>初始化：<code>left</code> 和 <code>right</code> 为 0</li>
<li>循环滑动窗口<ol>
<li><code>right</code> 开始走，直到走不动</li>
<li>记下答案</li>
<li><code>left</code> 开始走，直到走不动</li>
</ol>
</li>
</ol>
<h1 id="无重复：set-和-map"><a href="#无重复：set-和-map" class="headerlink" title="无重复：set 和 map"></a>无重复：set 和 map</h1><ul>
<li>在处理无重复问题时，选择 set 和 map 会有一点区别</li>
<li>选择 map 可以记下元素的位置，重复之后可以直接跳到那个重复元素的后面，左指针可以不用一步一步走<pre><code class="java">class Solution &#123;
public int lengthOfLongestSubstring(String s) &#123;
    if (s.length()==0) return 0;
    HashMap&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();
    int max = 0;
    int left = 0;
    for(int i = 0; i &lt; s.length(); i ++)&#123;
        if(map.containsKey(s.charAt(i)))&#123;
            left = Math.max(left,map.get(s.charAt(i)) + 1);
        &#125;
        map.put(s.charAt(i),i);
        max = Math.max(max,i-left+1);
    &#125;
    return max;
    
&#125;
</code></pre>
</li>
</ul>
<p>}</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/02/My-new-Post/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/08/02/My-new-Post/" class="post-title-link" itemprop="url">My new Post</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-08-02 18:40:03 / 修改时间：19:06:46" itemprop="dateCreated datePublished" datetime="2023-08-02T18:40:03+08:00">2023-08-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B5%8B%E8%AF%95/" itemprop="url" rel="index"><span itemprop="name">测试</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Hello test test</p>
<h1 id="A"><a href="#A" class="headerlink" title="A"></a>A</h1><h2 id="ASD"><a href="#ASD" class="headerlink" title="ASD"></a>ASD</h2><p>asdf</p>
<h1 id="B"><a href="#B" class="headerlink" title="B"></a>B</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/02/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/08/02/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-08-02 18:35:16 / 修改时间：19:04:47" itemprop="dateCreated datePublished" datetime="2023-08-02T18:35:16+08:00">2023-08-02</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">6</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
